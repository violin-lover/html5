<html>

<head>
    <title>Password Input Control</title>
    <script>
        function process() {
            alert("Thank You for Signing Up!");
        }

        function toProperCase(username) {
            return username.slice(0, 1).toUpperCase() + username.slice(1).toLowerCase()
        };

        function checkfirstName(firstNameInput) {
            if (firstNameInput.value.length < 2) {
                firstNameInput.focus();
                alert(`Don't be lazy! Type in your full name please.
           Please change the following:  ` + firstNameInput.value);
            } else {
                firstNameInput.value = toProperCase(firstNameInput.value);
            }
        localStorage.setItem('firstName',firstNameInput.value)}
        
        function checklastName(lastNameInput) {
            if (lastNameInput.value.length < 2) {
                lastNameInput.focus();
                alert(`Don't be lazy! Type in your full name please.
           Please change the following:  ` + lastNameInput.value);
            } else {
                lastNameInput.value = toProperCase(lastNameInput.value);
            }
        localStorage.setItem('lastName',lastNameInput.value)}


        function checkbirthDate(birthDateInput) {
            alert(birthDateInput.value);
            let date =
                new Date(birthDateInput.value);
            alert(date);
            let year = date.getYear();
            let now = new Date();
            alert(year + now);
            let age = now.getYear() - year
            alert(age);
        }

        function checkAge(ageInput) {
            alert(ageInput.value);
            if (ageInput.value < 10) {
                alert('To join this forum, you must be at least 10. Please change this age:   ' + ageInput.value);
                ageInput.focus();
            }
            if (ageInput.value > 100) {
                alert('You are very old. You age must be less than 100. Please change this age:   ' + ageInput.value);
                ageInput.focus();
            }

        }

        function checkGender(gender) {
            alert('To confirm, you are:   ' + gender);
        }

        function checkPassword(passwordInput) {
            if (passwordInput.value.length < 8) {
                alert('Your password must be at least 8 characters wrong. Please change: ********');
                passwordInput.focus();
            }
            if (passwordInput.value === passwordInput.value.toLowerCase() || passwordInput.value === passwordInput.value.toUpperCase()) {
                alert('Your password must be mixed (Upper case, lower case, numbers, etc.)')
            }
            let hasnumber = false
            debugger;
            for (let k = 0; k < passwordInput.value.length; k++) {
                if (0 * passwordInput.value[k] === 0) {
                    hasnumber = true;

                }
            }
            if (!hasnumber) {
                alert('Your password needs at least one number')
            }

        }

        function checkPhone(phoneInput) {
            debugger;
            let phoneNumber = phoneInput.value
            alert(phoneNumber);
            let cleanNumber = "";
            for (let j = 0; j < phoneNumber.length; j++) {
                if (0 * phoneNumber[j] === 0) {
                    cleanNumber += phoneNumber[j]
                }
            }
            alert(cleanNumber)
            if (cleanNumber.length < 10)
                alert('Your phone number is too short')
            if (cleanNumber[0] === '1') {
                cleanNumber = cleanNumber.slice(1)
                alert('To confirm, this is your phone Number:  ' + cleanNumber)
                phoneInput.value = cleanNumber
            }

        }

        function checkEmail(email) {
            if (email.indexOf('@') < 1 || email.lastIndexOf(".") < email.indexOf("@")) {
                alert('Please type in your full email. Please change this:  ' + email)
            }
        }

        function checkInfo(info) {
            alert(info)
            let words = info.split(" ");
            if (words.length < 10) {
                alert("Please enter more than 10 words please")
            }
            let sentence = info.split(".");
            if (sentence.length < 2) {
                alert("Please enter at least 1 sentence.")
            }

        }
        
        function checkTitle(titleInput){
        localStorage.setItem('title',titleInput)
        }
        
    </script>
</head>

<body style="background-color:Lavender;">

    <u><h1>Sign Up For Account</h1></u>
    Prefered Title:
        <select name="dropdown" onchange="checkTitle(this.options[this.selectedIndex].value)">
            <option value="Ms" selected>Ms</option>
            <option value="Mrs">Mrs</option>
            <option value="Mr">Mr</option>
            <option value="Dr">Dr</option>
            <option value="Professor">Professor</option>
        </select>
        <br>
        <br> First Name :
        <input type="text" name="first_name" onchange="checkfirstName(this)" />*
        <br>
        <br> Last Name :
        <input type="text" name="last_name" onchange="checklastName(this)" />*
        <br>
        <br> Age :
        <input type="number" name="age" onchange="checkAge(this)" />*
        <br>
        <br> Birth Date (mm/dd/yy) :
        <input type="date" name="birth" onchange="checkbirthDate(this)" />*
        <br>
        <br> Gender* :
        <input type="radio" name="Gender" value="Female" onchange="checkGender('Female')"> Female
        <input type="radio" name="Gender" value="Male" onchange="checkGender('Male')"> Male
        <br>
        <br> Address :
        <input type="text" name="address" />*
        <br>
        <br> User ID :
        <input type="text" name="user_id" />*
        <br>
        <br> Password:
        <input type="password" name="password" onchange="checkPassword(this)" />*
        <br>
        <br> Email :
        <input type="text" name="email" onchange="checkEmail(this.value)" />*
        <br>
        <br> Phone Number:
        <input type="text" name="phone Number" onchange="checkPhone(this)">
        <br>
        <br> Experience with Violin :
        <br>
        <textarea rows="5" cols="50" name="experience">
        </textarea>
        <br>
        <br> Why you joined :
        <br>
        <br>
        <textarea rows="5" cols="50" name="join">
        </textarea>
        <br>
        <br> Other Personal Information :
        <br>
        <br>
        <textarea rows="5" cols="50" name="info" onchange="checkInfo(this.value)"></textarea>

        <br>
        <br>
        <input type="button" name="submit" value="Submit" onclick="document.location.href='Reply.html'" />
        <br>
        <br>
        <br>
        <em>*mandatory</em>

    </form>
    </center>
</body>

</html>
